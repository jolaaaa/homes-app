{"ast":null,"code":"import { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nfunction RegistrationComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction RegistrationComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.success);\n  }\n}\nclass RegistrationComponent {\n  constructor(fb, router) {\n    this.fb = fb;\n    this.router = router;\n    this.error = null;\n    this.success = null;\n    this.registerForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(4)]],\n      confirmPassword: ['', [Validators.required]]\n    });\n  }\n  onSubmit() {\n    if (this.registerForm.valid) {\n      const {\n        email,\n        password,\n        confirmPassword\n      } = this.registerForm.value;\n      if (password !== confirmPassword) {\n        this.error = 'Le password non coincidono';\n        return;\n      }\n      const usersJson = localStorage.getItem('registeredUsers');\n      const users = usersJson ? JSON.parse(usersJson) : [];\n      if (users.some(u => u.email === email)) {\n        this.error = 'Utente già registrato';\n        return;\n      }\n      // aggiunge il nuovo utente al localStorage\n      users.push({\n        email,\n        password\n      });\n      localStorage.setItem('registeredUsers', JSON.stringify(users));\n      this.success = 'Registrazione completata! Puoi fare login.';\n      this.error = null;\n      //  redirect al login\n      setTimeout(() => {\n        this.router.navigate(['/']);\n      }, 2000);\n    }\n  }\n}\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) {\n  return new (t || RegistrationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router));\n};\nRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistrationComponent,\n  selectors: [[\"app-registration\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 11,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"register-form\", 3, \"formGroup\", \"ngSubmit\"], [\"class\", \"error\", 4, \"ngIf\"], [\"class\", \"success\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Email\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Password\"], [\"type\", \"password\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"Conferma Password\"], [\"type\", \"submit\"], [1, \"error\"], [1, \"success\"]],\n  template: function RegistrationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function RegistrationComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(2, \"h2\");\n      i0.ɵɵtext(3, \"Registrazione\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, RegistrationComponent_div_4_Template, 2, 1, \"div\", 2);\n      i0.ɵɵtemplate(5, RegistrationComponent_div_5_Template, 2, 1, \"div\", 3);\n      i0.ɵɵelement(6, \"input\", 4)(7, \"input\", 5)(8, \"input\", 6);\n      i0.ɵɵelementStart(9, \"button\", 7);\n      i0.ɵɵtext(10, \"Registrati\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.success);\n    }\n  },\n  dependencies: [ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, NgIf],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    min-height: 100vh;\\r\\n    background: #f4f4f4;\\r\\n}\\r\\n\\r\\n.register-form[_ngcontent-%COMP%] {\\r\\n    background: white;\\r\\n    padding: 20px;\\r\\n    border-radius: 12px;\\r\\n    box-shadow: 0px 2px 6px rgba(0,0,0,0.2);\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 10px;\\r\\n    width: 320px;\\r\\n}\\r\\n\\r\\n.register-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.register-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n    padding: 10px;\\r\\n    border-radius: 8px;\\r\\n    border: 1px solid #ccc;\\r\\n}\\r\\n\\r\\n.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    padding: 10px;\\r\\n    border: none;\\r\\n    background: #28a745;\\r\\n    color: white;\\r\\n    border-radius: 8px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.register-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n    background: #218838;\\r\\n}\\r\\n\\r\\n.error[_ngcontent-%COMP%] {\\r\\n    color: red;\\r\\n    font-size: 0.9em;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.success[_ngcontent-%COMP%] {\\r\\n    color: green;\\r\\n    font-size: 0.9em;\\r\\n    text-align: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1Q0FBdUM7SUFDdkMsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixTQUFTO0lBQ1QsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDtcclxuICAgIGJhY2tncm91bmQ6ICNmNGY0ZjQ7XHJcbn1cclxuXHJcbi5yZWdpc3Rlci1mb3JtIHtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMnB4IDZweCByZ2JhKDAsMCwwLDAuMik7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMTBweDtcclxuICAgIHdpZHRoOiAzMjBweDtcclxufVxyXG5cclxuLnJlZ2lzdGVyLWZvcm0gaDIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLnJlZ2lzdGVyLWZvcm0gaW5wdXQge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbn1cclxuXHJcbi5yZWdpc3Rlci1mb3JtIGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYmFja2dyb3VuZDogIzI4YTc0NTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnJlZ2lzdGVyLWZvcm0gYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICMyMTg4Mzg7XHJcbn1cclxuXHJcbi5lcnJvciB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gICAgZm9udC1zaXplOiAwLjllbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnN1Y2Nlc3Mge1xyXG4gICAgY29sb3I6IGdyZWVuO1xyXG4gICAgZm9udC1zaXplOiAwLjllbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { RegistrationComponent };","map":{"version":3,"mappings":"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","names":["ReactiveFormsModule","Validators","NgIf","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","ctx_r1","success","RegistrationComponent","constructor","fb","router","registerForm","group","email","required","password","minLength","confirmPassword","onSubmit","valid","value","usersJson","localStorage","getItem","users","JSON","parse","some","u","push","setItem","stringify","setTimeout","navigate","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","RegistrationComponent_Template","rf","ctx","ɵɵlistener","RegistrationComponent_Template_form_ngSubmit_1_listener","ɵɵtemplate","RegistrationComponent_div_4_Template","RegistrationComponent_div_5_Template","ɵɵelement","ɵɵproperty","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sourceRoot":"","sources":["C:\\Users\\ASUS\\OneDrive\\Desktop\\homes-app\\frontend\\src\\app\\register.ts"],"sourcesContent":["import {Component} from '@angular/core';\r\nimport {FormBuilder, FormGroup, ReactiveFormsModule, Validators} from '@angular/forms';\r\nimport {Router} from '@angular/router';\r\nimport {NgIf} from \"@angular/common\";\r\n\r\n@Component({\r\n    selector: 'app-registration',\r\n    standalone: true,\r\n    styleUrls: ['./register.component.css'],\r\n    imports: [ReactiveFormsModule, NgIf],\r\n    template: `\r\n        <div class=\"container\">\r\n            <form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\" class=\"register-form\">\r\n                <h2>Registrazione</h2>\r\n                <div *ngIf=\"error\" class=\"error\">{{ error }}</div>\r\n                <div *ngIf=\"success\" class=\"success\">{{ success }}</div>\r\n                <input type=\"email\" formControlName=\"email\" placeholder=\"Email\"/>\r\n                <input type=\"password\" formControlName=\"password\" placeholder=\"Password\"/>\r\n                <input type=\"password\" formControlName=\"confirmPassword\" placeholder=\"Conferma Password\"/>\r\n                <button type=\"submit\">Registrati</button>\r\n            </form>\r\n        </div>\r\n    `\r\n})\r\n\r\nexport class RegistrationComponent {\r\n    registerForm: FormGroup;\r\n    error: string | null = null;\r\n    success: string | null = null;\r\n\r\n    constructor(private fb: FormBuilder, private router: Router) {\r\n        this.registerForm = this.fb.group({\r\n            email: ['', [Validators.required, Validators.email]],\r\n            password: ['', [Validators.required, Validators.minLength(4)]],\r\n            confirmPassword: ['', [Validators.required]]\r\n        });\r\n    }\r\n\r\n    onSubmit(): void {\r\n        if (this.registerForm.valid) {\r\n            const {email, password, confirmPassword} = this.registerForm.value;\r\n\r\n            if (password !== confirmPassword) {\r\n                this.error = 'Le password non coincidono';\r\n                return;\r\n            }\r\n\r\n            const usersJson = localStorage.getItem('registeredUsers');\r\n            const users = usersJson ? JSON.parse(usersJson) : [];\r\n\r\n            if (users.some((u: any) => u.email === email)) {\r\n                this.error = 'Utente già registrato';\r\n                return;\r\n            }\r\n            // aggiunge il nuovo utente al localStorage\r\n            users.push({email, password});\r\n            localStorage.setItem('registeredUsers', JSON.stringify(users));\r\n\r\n\r\n            this.success = 'Registrazione completata! Puoi fare login.';\r\n            this.error = null;\r\n\r\n            //  redirect al login\r\n            setTimeout(() => {\r\n                this.router.navigate(['/']);\r\n            }, 2000);\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}