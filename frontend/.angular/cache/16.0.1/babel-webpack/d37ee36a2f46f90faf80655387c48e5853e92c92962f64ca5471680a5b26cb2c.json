{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HousingLocationComponent } from \"../housing-location/housing-location.component\";\nimport { HousingService } from \"../housing.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nfunction HomeComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 10)(1, \"button\", 11);\n    i0.ÉµÉµlistener(\"click\", function HomeComponent_div_9_Template_button_click_1_listener() {\n      i0.ÉµÉµrestoreView(_r4);\n      const ctx_r3 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r3.goToProfile());\n    });\n    i0.ÉµÉµtext(2, \"Profile\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"button\", 11);\n    i0.ÉµÉµlistener(\"click\", function HomeComponent_div_9_Template_button_click_3_listener() {\n      i0.ÉµÉµrestoreView(_r4);\n      const ctx_r5 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r5.logout());\n    });\n    i0.ÉµÉµtext(4, \"Logout\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\nfunction HomeComponent_app_housing_location_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"app-housing-location\", 12);\n  }\n  if (rf & 2) {\n    const housingLocation_r6 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"housingLocation\", housingLocation_r6);\n  }\n}\nclass HomeComponent {\n  constructor(router) {\n    this.router = router;\n    this.housingLocationList = []; // lista completa abitazioni\n    this.housingService = inject(HousingService); // ottiene servizio con inject\n    this.filteredLocationList = []; //lista mostrata dopo il filter\n    this.menuOpen = false;\n    // recupera le abitazioni quando il componente viene creato\n    this.housingService.getAllHousingLocations().then(housingLocationList => {\n      this.housingLocationList = housingLocationList;\n      this.filteredLocationList = housingLocationList;\n    });\n  }\n  filterResults(text) {\n    if (!text) this.filteredLocationList = this.housingLocationList;\n    // se filtro vuoto mostra tutto\n    this.filteredLocationList = this.housingLocationList.filter(housingLocation => housingLocation?.city.toLowerCase().includes(text.toLowerCase())\n    // filtro case-insensitive sul campo \"city\", trova tutte le stringe della cittÃ  dal testo scritto dall'utente\n    );\n  }\n\n  toggleMenu() {\n    this.menuOpen = !this.menuOpen;\n  }\n  goToProfile() {\n    this.router.navigate(['/profile']);\n  }\n  logout() {\n    localStorage.removeItem('user'); // esempio: rimuove l'utente\n    localStorage.removeItem('token');\n    this.router.navigate(['/']);\n  }\n}\nHomeComponent.Éµfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ÉµÉµdirectiveInject(i1.Router));\n};\nHomeComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  standalone: true,\n  features: [i0.ÉµÉµStandaloneFeature],\n  decls: 13,\n  vars: 2,\n  consts: [[1, \"header\"], [1, \"search-form\"], [\"type\", \"text\", \"placeholder\", \"Filter by city\"], [\"filter\", \"\"], [\"type\", \"button\", 1, \"primary\", 3, \"click\"], [1, \"user-menu\", 3, \"click\"], [1, \"user-icon\"], [\"class\", \"menu-dropdown\", 4, \"ngIf\"], [1, \"results\"], [3, \"housingLocation\", 4, \"ngFor\", \"ngForOf\"], [1, \"menu-dropdown\"], [3, \"click\"], [3, \"housingLocation\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r7 = i0.ÉµÉµgetCurrentView();\n      i0.ÉµÉµelementStart(0, \"header\", 0)(1, \"form\", 1);\n      i0.ÉµÉµelement(2, \"input\", 2, 3);\n      i0.ÉµÉµelementStart(4, \"button\", 4);\n      i0.ÉµÉµlistener(\"click\", function HomeComponent_Template_button_click_4_listener() {\n        i0.ÉµÉµrestoreView(_r7);\n        const _r0 = i0.ÉµÉµreference(3);\n        return i0.ÉµÉµresetView(ctx.filterResults(_r0.value));\n      });\n      i0.ÉµÉµtext(5, \"Search\");\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(6, \"div\", 5);\n      i0.ÉµÉµlistener(\"click\", function HomeComponent_Template_div_click_6_listener() {\n        return ctx.toggleMenu();\n      });\n      i0.ÉµÉµelementStart(7, \"span\", 6);\n      i0.ÉµÉµtext(8, \"\\uD83D\\uDC64\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµtemplate(9, HomeComponent_div_9_Template, 5, 0, \"div\", 7);\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(10, \"section\");\n      i0.ÉµÉµelement(11, \"section\", 8);\n      i0.ÉµÉµtemplate(12, HomeComponent_app_housing_location_12_Template, 1, 1, \"app-housing-location\", 9);\n      i0.ÉµÉµelementEnd();\n    }\n    if (rf & 2) {\n      i0.ÉµÉµadvance(9);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.menuOpen);\n      i0.ÉµÉµadvance(3);\n      i0.ÉµÉµproperty(\"ngForOf\", ctx.filteredLocationList);\n    }\n  },\n  dependencies: [CommonModule, i2.NgForOf, i2.NgIf, HousingLocationComponent],\n  styles: [\".header[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n    padding: 10px 20px;\\r\\n    background: #f5f5f5;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n\\r\\n.search-form[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    gap: 8px;\\r\\n}\\r\\n\\r\\n.search-form[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\r\\n    border: solid 1px var(--primary-color);\\r\\n    padding: 10px;\\r\\n    border-radius: 8px;\\r\\n    width: 250px;\\r\\n}\\r\\n\\r\\n.search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    padding: 10px 16px;\\r\\n    border: solid 1px var(--primary-color);\\r\\n    background: var(--primary-color);\\r\\n    color: white;\\r\\n    border-radius: 8px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.user-menu[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.user-icon[_ngcontent-%COMP%] {\\r\\n    font-size: 1.8rem;\\r\\n    display: inline-block;\\r\\n    padding: 8px;\\r\\n    border-radius: 50%;\\r\\n    background: #eee;\\r\\n    transition: background 0.2s;\\r\\n}\\r\\n\\r\\n.user-icon[_ngcontent-%COMP%]:hover {\\r\\n    background: #ddd;\\r\\n}\\r\\n\\r\\n\\r\\n.menu-dropdown[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    top: 50px;\\r\\n    right: 0;\\r\\n    background: white;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 6px;\\r\\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\\r\\n    padding: 8px 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    min-width: 140px;\\r\\n    z-index: 1000;\\r\\n}\\r\\n\\r\\n.menu-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    background: none;\\r\\n    border: none;\\r\\n    padding: 10px;\\r\\n    text-align: left;\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.menu-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n    background: #f0f0f0;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QixrQkFBa0I7QUFDdEI7O0FBRUEscUJBQXFCO0FBQ3JCO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixRQUFRO0FBQ1o7O0FBRUE7SUFDSSxzQ0FBc0M7SUFDdEMsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLHNDQUFzQztJQUN0QyxnQ0FBZ0M7SUFDaEMsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25COztBQUVBLDZCQUE2QjtBQUM3QjtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25COztBQUVBLGlCQUFpQjtBQUNqQjtJQUNJLGlCQUFpQjtJQUNqQixxQkFBcUI7SUFDckIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsMkJBQTJCO0FBQy9COztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBLGtCQUFrQjtBQUNsQjtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsUUFBUTtJQUNSLGlCQUFpQjtJQUNqQixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLDBDQUEwQztJQUMxQyxjQUFjO0lBQ2QsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixnQkFBZ0I7SUFDaEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsV0FBVztJQUNYLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkIiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4vKiBCYXJyYSBkaSByaWNlcmNhICovXHJcbi5zZWFyY2gtZm9ybSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogOHB4O1xyXG59XHJcblxyXG4uc2VhcmNoLWZvcm0gaW5wdXRbdHlwZT1cInRleHRcIl0ge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG59XHJcblxyXG4uc2VhcmNoLWZvcm0gYnV0dG9uIHtcclxuICAgIHBhZGRpbmc6IDEwcHggMTZweDtcclxuICAgIGJvcmRlcjogc29saWQgMXB4IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi8qIENvbnRlbml0b3JlIGljb25hIHV0ZW50ZSAqL1xyXG4udXNlci1tZW51IHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLyogSWNvbmEgdXRlbnRlICovXHJcbi51c2VyLWljb24ge1xyXG4gICAgZm9udC1zaXplOiAxLjhyZW07XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWVlO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzO1xyXG59XHJcblxyXG4udXNlci1pY29uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNkZGQ7XHJcbn1cclxuXHJcbi8qIERyb3Bkb3duIG1lbnUgKi9cclxuLm1lbnUtZHJvcGRvd24ge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBwYWRkaW5nOiA4cHggMDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgbWluLXdpZHRoOiAxNDBweDtcclxuICAgIHotaW5kZXg6IDEwMDA7XHJcbn1cclxuXHJcbi5tZW51LWRyb3Bkb3duIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxufVxyXG5cclxuLm1lbnUtZHJvcGRvd24gYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNmMGYwZjA7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { HomeComponent };","map":{"version":3,"mappings":"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","names":["inject","CommonModule","HousingLocationComponent","HousingService","i0","ÉµÉµelementStart","ÉµÉµlistener","HomeComponent_div_9_Template_button_click_1_listener","ÉµÉµrestoreView","_r4","ctx_r3","ÉµÉµnextContext","ÉµÉµresetView","goToProfile","ÉµÉµtext","ÉµÉµelementEnd","HomeComponent_div_9_Template_button_click_3_listener","ctx_r5","logout","ÉµÉµelement","ÉµÉµproperty","housingLocation_r6","HomeComponent","constructor","router","housingLocationList","housingService","filteredLocationList","menuOpen","getAllHousingLocations","then","filterResults","text","filter","housingLocation","city","toLowerCase","includes","toggleMenu","navigate","localStorage","removeItem","ÉµÉµdirectiveInject","i1","Router","selectors","standalone","features","ÉµÉµStandaloneFeature","decls","vars","consts","template","HomeComponent_Template","rf","ctx","HomeComponent_Template_button_click_4_listener","_r7","_r0","ÉµÉµreference","value","HomeComponent_Template_div_click_6_listener","ÉµÉµtemplate","HomeComponent_div_9_Template","HomeComponent_app_housing_location_12_Template","ÉµÉµadvance","i2","NgForOf","NgIf","styles"],"sourceRoot":"","sources":["C:\\Users\\ASUS\\OneDrive\\Desktop\\homes-app\\frontend\\src\\app\\home\\home.component.ts"],"sourcesContent":["import {Component, inject} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {HousingLocationComponent} from \"../housing-location/housing-location.component\";\nimport {HousingLocation} from \"../housing-location\";\nimport {HousingService} from \"../housing.service\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n    selector: 'app-home', // nome tag HTML per questo componente\n    standalone: true,\n    imports: [CommonModule, HousingLocationComponent,],\n    template: `\n        <header class=\"header\">\n            <form class=\"search-form\">\n                <input type=\"text\" placeholder=\"Filter by city\" #filter>\n                <button class=\"primary\" type=\"button\" (click)=\"filterResults(filter.value)\">Search</button>\n            </form>\n\n            <div class=\"user-menu\" (click)=\"toggleMenu()\">\n                <span class=\"user-icon\">ðŸ‘¤</span>\n                <div *ngIf=\"menuOpen\" class=\"menu-dropdown\">\n                    <button (click)=\"goToProfile()\">Profile</button>\n                    <button (click)=\"logout()\">Logout</button>\n                </div>\n            </div>\n        </header>\n\n        <section>\n            <section class=\"results\"></section>\n            <app-housing-location\n                    *ngFor=\"let housingLocation of filteredLocationList\"\n                    [housingLocation]=\"housingLocation\">\n            </app-housing-location>\n        </section>\n\n    `,\n    styleUrls: ['./home.component.css'] //style css\n})\nexport class HomeComponent {\n    housingLocationList: HousingLocation[] = []; // lista completa abitazioni\n    housingService: HousingService = inject(HousingService); // ottiene servizio con inject\n    filteredLocationList: HousingLocation[] = []; //lista mostrata dopo il filter\n    menuOpen = false;\n\n\n    constructor(private router: Router) {\n        // recupera le abitazioni quando il componente viene creato\n        this.housingService.getAllHousingLocations().then((housingLocationList: HousingLocation[]) => {\n            this.housingLocationList = housingLocationList;\n            this.filteredLocationList = housingLocationList;\n        });\n    }\n\n    filterResults(text: string) {\n        if (!text) this.filteredLocationList = this.housingLocationList;\n        // se filtro vuoto mostra tutto\n        this.filteredLocationList = this.housingLocationList.filter(\n            housingLocation => housingLocation?.city.toLowerCase().includes(text.toLowerCase())\n            // filtro case-insensitive sul campo \"city\", trova tutte le stringe della cittÃ  dal testo scritto dall'utente\n        );\n    }\n\n    toggleMenu() {\n        this.menuOpen = !this.menuOpen;\n    }\n\n    goToProfile() {\n        this.router.navigate(['/profile']);\n    }\n\n    logout() {\n        localStorage.removeItem('user');   // esempio: rimuove l'utente\n        localStorage.removeItem('token');\n        this.router.navigate(['/']);\n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}